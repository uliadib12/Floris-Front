import{j as e}from"./jsx-runtime.G4i-1Giy.js";import{r as d}from"./index.UCAuQZPX.js";import{C as x}from"./cartServices.l6aAegER.js";class c{id;name;description;images;variants;userInput=new v(0,0,"");constructor({id:t,name:a,description:n,images:i,variants:l}){this.id=t,this.name=a,this.description=n,this.images=i,this.variants=l}static EmptyProduct(){return new c({id:void 0,name:"",description:"",images:[],variants:[]})}EditUserInput(t){return this.userInput=t,this}}class v{variantIndex;quantity;additionalInformation;constructor(t,a,n){this.variantIndex=t,this.quantity=a,this.additionalInformation=n}}function g(){const[s,t]=d.useState(c.EmptyProduct());return d.useEffect(()=>(t(new c({id:1,name:"Product 1",description:"Description 1",images:["https://picsum.photos/seed/1/500/500","https://picsum.photos/seed/2/500/500","https://picsum.photos/seed/3/500/500"],variants:[{variantName:"Variant 1",size:"S",stock:10,price:1e5},{variantName:"Variant 2",size:"M",stock:10,price:2e5},{variantName:"Variant 3",size:"L",stock:10,price:3e5}]})),()=>{t(c.EmptyProduct())}),[]),[s,t]}function p({images:s=[]}){return d.useEffect(()=>{$("#image").slick({dots:!0,infinite:!0,speed:500,fade:!0,cssEase:"linear"})},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"px-8 bg-gray-100",children:e.jsx("div",{id:"image",className:"h-full",children:s.map((t,a)=>e.jsx(f,{src:t,alt:`image-${a}`},a))})})})}function f({src:s="",alt:t=""}){return e.jsx("img",{src:s,alt:t,className:"h-full"})}function j(){return e.jsx("div",{className:"animate-pulse bg-slate-300 w-full h-96 sm:h-full"})}class h{id;name;image;variantIndex;variantName;price;quantity;size;additionalInformation;constructor(t,a,n,i,l,m,u,r,o){this.id=t,this.name=a,this.image=n,this.variantIndex=i,this.variantName=l,this.price=m,this.quantity=u,this.size=r,this.additionalInformation=o}static FromProduct(t){const a=t.userInput.variantIndex;return new h(t.id,t.name,t.images[0],a,t.variants[a].variantName,t.variants[a].price,t.userInput.quantity,t.variants[a].size,t.userInput.additionalInformation)}}function b({product:s,setProduct:t}){const[a,n]=d.useState(1),[i,l]=d.useState(0),[m,u]=d.useState("");return e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s.name}),e.jsx("div",{className:"mt-4 text-4xl font-semibold text-orange-500",children:s.variants[i].price.toLocaleString("id-ID",{style:"currency",currency:"IDR"})}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("div",{children:"Size:"}),e.jsx("div",{children:s.variants[i].size})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:"Variant:"}),e.jsx("div",{className:"flex space-x-2",children:s.variants.map((r,o)=>e.jsx("button",{className:(i===o?"bg-pink-600 font-bold ":"")+"bg-pink-400 px-2 rounded-md text-white",onClick:()=>l(o),children:r.variantName},o))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:"Quantity:"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",className:"border border-gray-400 rounded-md px-2 py-1 w-20",value:a,onChange:r=>n(parseInt(r.target.value))}),e.jsxs("div",{children:["/ ",s.variants[i].stock]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"mt-4",children:"Additional Information:"}),e.jsx("textarea",{value:m,onChange:r=>u(r.target.value),style:{resize:"none"},className:"border border-gray-400 rounded-md px-2 py-1 w-[80%] h-16"})]}),e.jsx("div",{className:"mt-4",children:"Description:"}),e.jsx("div",{className:"text-gray-600",children:s.description}),e.jsx("div",{className:"fixed bottom-0 left-0 right-0 p-4 flex justify-end z-40",children:e.jsxs("button",{onClick:()=>{N(s,{variantIndex:i,quantity:a,additionalInformation:m}),I()},className:"flex gap-2 bg-pink-500 border-solid border-white border-2 px-4 py-2 rounded-md text-white",children:["Add to Cart",e.jsx("img",{src:"/icons/cart.svg",width:20,height:20,alt:"home",style:{filter:"invert(1)"}})]})})]})}function N(s,t){const a=s.EditUserInput(t);x.addProductToCart(h.FromProduct(a))}function I(){toastr.options={debug:!1,positionClass:"toast-bottom-left",onclick:null,fadeIn:300,fadeOut:1e3,timeOut:5e3,extendedTimeOut:1e3},toastr.success("Product added to cart","Success")}function w(){return e.jsxs("div",{children:[e.jsx("div",{className:"animate-pulse bg-slate-300 w-56 h-6 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-48 h-6 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-40 h-4 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-40 h-4 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-40 h-4 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-72 h-20 rounded-lg mb-2"}),e.jsx("div",{className:"mt-6 animate-pulse bg-slate-300 w-28 h-4 rounded-lg mb-2"}),e.jsx("div",{className:"mt-4 animate-pulse bg-slate-300 w-full h-40 rounded-lg mb-2"})]})}function C(){const[s,t]=g();return e.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[e.jsx("div",{className:"grow basis-[50%] lg:h-[90vh] overflow-hidden",children:e.jsx("div",{className:"h-full w-full",children:s.images.length===0?e.jsx(j,{}):e.jsx(p,{images:s.images})})}),e.jsx("div",{className:"grow basis-[50%] p-6",children:s.id===void 0?e.jsx(w,{}):e.jsx(b,{product:s,setProduct:t})})]})}export{C as default};
